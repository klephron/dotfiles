##### SHOW CURRENT TMUX SETTINGS #####
# tmux show-options
# tmux list-keys

########## OPTIONS ##########
set -g mouse on
# scrollback buffer
set -g history-limit 10000
# tmux display things in 256 colors
set -g  default-terminal "tmux-256color"
set -ga terminal-overrides ",alacritty:RGB" # needed for proper nvim/tmux/base16 colors 
# shorten command delay 
set -g escape-time 20
set -g repeat-time 500
set -g focus-events on
# renumber windows when a window is closed
set -g renumber-windows on    
# start windows from 1
set -g base-index 1

# status bar
set -g status-style bg='#252525',fg='#D4D4D4'
set -g window-status-style bg=default,fg=default
set -g window-status-current-style bg=default,fg='#BF616A'
# panels
set -g pane-border-style bg=default,fg='#2E3440'
set -g pane-active-border-style bg=default,fg='#6A7489'
# mode panel & selection
set -g mode-style fg=colour235,bg=colour66
# command mode status bar & messages
set -g message-style bg='#3B4252',fg='#ECEFF4'

########## STATUS BAR CUSTOMIZATION ###########
set -g status-interval 15
set -g status-justify left
set -g status-position bottom
set -g status-left-length 20
set -g status-left-style default
set -g status-left "[#{session_name}]  "
set -g status-right-length 100
set -g status-right-style default
set -g status-right "#{?window_bigger,[#{window_offset_x}#,#{window_offset_y}] ,}#{=100:pane_title}"

########## BINDS ###########
bind r source-file ~/.tmux.conf \; display "Reloaded!"

bind ? list-keys -T prefix

# prefix
unbind C-b
set -g prefix C-space
bind C-space send-prefix

# panel movement (vim like)
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

#### command mode : vim ####
set-window-option -g status-keys vi
#### copy mode : vim ####
set-window-option -g mode-keys vi
bind Escape copy-mode
bind [ copy-mode
# copy using y and mouse
bind -T copy-mode-vi v send -X begin-selection
bind -T copy-mode-vi y send -X copy-selection-and-cancel "xclip"
bind -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel "xclip"

# create vertical and horizontal split
unbind %
bind u split-window -h
unbind \"
bind y split-window

# delete panel and detach
# unbind d
# bind C-d detach-client
unbind c
bind C-n new-window

# Toggle status bar
bind t set-option status

# Disable confirm-before
bind c kill-window
bind & kill-window
bind x kill-pane

# Command: swap-window
set command-alias[0] swd='swap-window -d -t'
bind a command-prompt "swap-window -d -t '%%'"

# Create session
bind S command-prompt -p "Session name:" "new-session -A -s '%%'"
